{%- assign labels = product.metafields.custom.labels.value -%}

{%- if labels != blank -%}
  <div class="product-labels" aria-label="Product labels">
    {%- for label in labels -%}
      {%- assign background_color = label.label_color | default: '#000000' -%}
      {%- assign text_color = label.title_color | default: '#FFFFFF' -%}

      {%- if label.title != blank -%}
        <small
          class="product-label"
          style="
            background-color: {{ background_color }};
            color: {{ text_color }};
            display: inline-block;
            font-size: 0.875rem;
            letter-spacing: 0.0625rem;
            padding: 0rem 0.5rem;
            position: absolute;
            {%- if label_styles -%}
              {{ label_styles }}
            {%- endif -%}
          "
        >
          {{- label.title | escape -}}
        </small>
      {%- endif -%}
    {%- endfor -%}
  </div>
{%- endif -%}
